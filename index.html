<html>
<head>
    <title>Dance Dance, Click-O-Lution</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">


    <style type="text/css">
        button, div, form, input {
            margin: 2px;
        }
    </style>
</head>

<body>
<div class="container">
    <div class="row">
        <div class="col-md-12"></div>
            <div id=" buttons">
                <button id="btn" data-person="Cabbage Patch">BRing It around</button>
                <button id="btn" data-person="Jerk">You're a jerk</button>
                <button id="btn" data-person="Waltz">Annnn I,2,3,4</button>
                <button  id="btn" data-person="Wu-Tang">Wu-Tang With it</button>
            </div>
            </div>
    </div>

    <div class="row">

        <div class="col-md-8">
            <div id="gifsAppearHere">
            </div>
        </div>
        
        <div class="col-md-4"></div>
            <span>
            <form id="dance-form">
            <label for="dance-input"> Insert Dance Here</label>
            <input type="text" id="dance-input">
            
            <input id="addDance" type="submit" value="Bust A Move">
            </form>
            </span>
    </div>


</div>

<script src='http://code.jquery.com/jquery-2.1.3.min.js'></script>
<script type="text/javascript">
var topics = ['Run', 'Jump', 'Fall', 'Cry', 'Love', 'Drive', 'Take', 'Escape'];


$("#buttons").append("<button   id='btn' data-person='freestyle'> Secret Dance</button") 

            $("#buttons").append("<button id='btn' data-person='bop'> And here we go!</button") 

            $("#buttons").append("<button  id='btn' data-person='Twirl'>Spin</button") 


var topics = ['Run', 'Jump', 'Fall', 'Cry', 'Love', 'Drive', 'Take', 'Escape'];

    

function renderButtons(){ 
  

        // Loops through the array of movies
        
    for (var i = 0; i < topics.length; i++){
            // Then dynamicaly generates buttons for each movie in the array

            // Note the jQUery syntax here... 
            var a = $('<button>') // This code $('<button>') is all jQuery needs to create the beginning and end tag. (<button></button>)
            a.addClass('movie'); // Added a class 
            a.addClass('newaction');
            a.attr("data", "person");
           $('data-person').html(topics[i]); // Added a data-attribute
            a.text(topics[i]); // Provided the initial button text
            $('#buttons').append(a); // Added the button to the HTML
        }
    }
console.log("b")

        $('#addDance').on('click', function(){
            var movie = $('#dance-input').val().trim();
            topics.push(movie);

            renderButtons();
                return false;
    })
 renderButtons();


            $('#btn').on('click', function() {
        
        var p = $(this).data('person');
        var queryURL = "http://api.giphy.com/v1/gifs/search?q=" + p + "&api_key=dc6zaTOxFJmzC&limit=10";
//calls AJAX funtion and calling the url provided
        $.ajax({
                url: queryURL,
                method: 'GET'
            })
            .done(function(response) {
                //store data in this variable
                var results = response.data;

                //this will console log the api and the object
                    console.log("#button");

                for (var i = 0; i < results.length; i++) {

                    //creates a new div
                    var gifDiv = $('<div class="item">')

                    var rating = results[i].rating;
//adds a pragrpah tags and changes the content in the p to Ratings
                    var p = $('<p>').text("Rating: " + rating);

                    var personImage = $('<img>');
                    personImage.attr('src', results[i].images.fixed_height.url);
                    //eveything above this is not being shwon yet
//the rating and image is now being shown since we we just appended it to the p  just created and the person image on the page
                    gifDiv.append(p)
                    gifDiv.append(personImage)

                    $('#gifsAppearHere').prepend(gifDiv);

                }
            });
    });



</script>

</body>

</html>